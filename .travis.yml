osx_image: xcode7.3
language: objective-c

branches:
  only:
    - master

before_install:
- git clone https://github.com/alan-yeh/CI.git
- cp CI/cocoapods/* ./
- rm -rf CI
- rm example.travis.yml

install:
- bundle install
- pod install --project-directory=Example

script:
- bundle exec rake pod:lint --quiet

after_success:
- bundle exec rake pod:tag --quiet

# Generate your secure token with the travis gem:
# get Github token from your Travis CI profile page
# gem install travis
# GH_TOKEN from https://github.com/settings/tokens
env:
  global:
    # travis encrypt 'GH_TOKEN=YOUR_TOKEN'
    - secure: "n9ZL1vTYu4CpRDDmaMbNhz168T2Z5HGj15W81QizQYkeqDej2ZG1DU5muu5Yr/4SsokVHGOis1YGjKsLNK+gZF0BXFmhFA+fHgHoa6AqUnLOigECGxcJQI3yvgxQMSMN1hZa6TwpABwDnpg9NiH9XkIsGn3YQufzzV1fEFZV7B0beN2keWa0C0d8hGT6cIJ5SsKNIqOnIWnv9BnLzqWDIxPffOlUdScW9n52UkDNrYmPAmNfaV4xTXk6htsalTawr0hgYmNcyO015qYqdeLxW5vSd/4SucnPn4nxCuwrtAXppeDPDQVJhGjlCR9YMrXQ/3MhsTTnXgGWztKA5q5+Qis0xHmkyOmqG8ofNgSHuiFjSwO41jnHBpymcqfzceyKOnyENMhhphbHJvmNzE2dv5YjphHRPUxdb9VM7E31+a6HkEqpDx1ZzIA6eGbtlUVengf9LQTYNDMQQ/mLUDcmUFcjv8ZbKsfc58/C3YTdc7ctp3Ir0VnWGD106JOVrzGshIj2gPiJFCxg2iDv05A4ch17KBPkxg2FlRFojRcM1Sg4Owa52v1tP4BT+97etbJraRa1+UhHTuVf2tGCPyG8ODexBax3SzH+zkZreASDrRTHgFlspuV6x7mXTXYI/Cey/IwRxmpWU14JiT8oub1g+fHXXsOkMLOMUd4w5tMLqeQ="
    #- PROJECT: AYPromise
    - GH_USER: alan-yeh
    - GH_EMAIL: alan@yerl.cn